<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Partikkel-gravitasjon</title>
    <style>
        body {
            background-color:#666;
        }

        #canvas {
            background-color:#000;
            margin-left:100px;
        }
    </style>
    <script>


        var canvas, ctx;
        
        var drawInterval = setInterval(function(){draw()}, 30);


        var particle = {
            x: 250,
            y: 0,
            gravity: 0.05,
            gravitySpeed: 0,
            size: 10

        };

        window.onload = function() {
            canvas = document.getElementById("canvas");
            ctx = canvas.getContext("2d");
        };


        //Tegner og skyter particle opp
        function draw() {

            ctx.clearRect(0,0,500,500);

            ctx.fillStyle = 'red';
            ctx.fillRect(particle.x, particle.y,particle.size,particle.size);
            
            particle.gravitySpeed += particle.gravity;
            particle.y = particle.y + particle.gravitySpeed;
            
            kant = canvas.height - particle.size;
            if(particle.y > kant){
                particle.y = kant; 
                particle.gravitySpeed = 0;                
            }
       
        }
        
        window.onkeydown = function(inputKey) {
            var key = inputKey.keyCode ? inputKey.keyCode : inputKey.which;

            if (key == 38) {
                particle.gravity = -0.2;
            }
        }
        
        window.onkeyup = function(inputKey) {
            var key = inputKey.keyCode ? inputKey.keyCode : inputKey.which;
            if (key == 38) {
                particle.gravity = 0.1;
            }
        }
        
      

    </script>

</head>
<body>

<canvas id="canvas" width="500" height="500"></canvas>

</body>
</html>